
        .submit-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: white;
            text-align: center;
        }
        
        .submit-answer-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .answer-input {
            padding: 12px 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
            width: 150px;
            text-align: center;
        }
        
        .answer-input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .submit-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .result-container {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .result-correct {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
            color: #4CAF50;
        }
        
        .result-incorrect {
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
            color: #f44336;
        }
        
        .reset-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            margin-left: 10px;
            cursor: pointer;
        }
   
        <!-- Question Type Selector -->
        <div class="question-type-selector">
            <h2 style="color: #4f8cff; margin-bottom: 15px;">Select Question Difficulty</h2>
            <p style="color: #e5e7eb; margin-bottom: 20px;">Choose your level and practice IRR calculations</p>
            <div class="type-buttons">
                <button class="type-btn active" data-type="1">Type 1 - Basic</button>
                <button class="type-btn" data-type="2">Type 2 - Intermediate</button>
                <button class="type-btn" data-type="3">Type 3 - Advanced</button>
            </div>
            <div class="question-counter">
                <span id="currentQuestion">Question 1 of 5</span>
            </div>
            <div class="question-nav">
                <button id="prevBtn" disabled="">‚Üê Previous</button>
                <button id="nextBtn">Next ‚Üí</button>
            </div>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <h3>üìã How to Use This IRR Calculator</h3>
            <ul>
                <li><strong>Click any cell</strong> to edit values and create formulas</li>
                <li><strong>Use Excel formulas</strong> like =IRR(range), =B2+C2, =B2*C2</li>
                <li><strong>Calculate IRR</strong> using the data provided and enter your final answer</li>
                <li><strong>Check your work</strong> to see if you got the correct IRR calculation</li>
            </ul>
        </div>

        <!-- Question Container -->
        <div class="question-container" id="questionContainer">
            <div class="question-title">
                <div class="question-icon">Q</div>
                Basic IRR Calculation
            </div>
            <div class="question-text">
                <strong>Scenario:</strong> You're evaluating an investment with the following cash flows:<br>
                ‚Ä¢ Initial Investment: -‚Çπ50,000<br>‚Ä¢ Year 1: +‚Çπ15,000<br>‚Ä¢ Year 2: +‚Çπ18,000<br>‚Ä¢ Year 3: +‚Çπ22,000<br>‚Ä¢ Year 4: +‚Çπ12,000<br><br>
                <strong>Task:</strong> Calculate the Internal Rate of Return (IRR) for this investment.
            </div>
        </div>

        <!-- Spreadsheet Section -->
        <div class="spreadsheet-wrapper">
            <div class="spreadsheet-title">
                <div class="spreadsheet-icon">üìä</div>
                IRR Calculation Worksheet
            </div>
            <div id="luckysheet" style="margin: 0px; padding: 0px; position: relative; width: 100%; height: 500px;"></div>
        </div>

        <!-- NEW SUBMIT ANSWER SECTION -->
        <div class="submit-section">
            <h3>Submit Your Answer</h3>
            <p>Enter your calculated IRR percentage to verify your answer</p>
            <div class="submit-answer-container">
                <input type="number" 
                       class="answer-input" 
                       id="userAnswer" 
                       placeholder="Enter IRR %" 
                       step="0.01" 
                       min="0" 
                       max="100">
                <button class="submit-btn" onclick="checkAnswer()">Submit Answer</button>
                <button class="reset-btn" onclick="resetAnswer()">Reset</button>
            </div>
            <div class="result-container" id="resultContainer">
                <div id="resultMessage"></div>
                <div id="explanationMessage"></div>
            </div>
        </div>
    </div>

    <!-- Add this JavaScript for the submit answer functionality -->
    <script>
        // Store the correct answers for different question types
        const correctAnswers = {
            1: [15.09, 18.56, 22.33, 12.45, 25.78], // Type 1 answers
            2: [16.23, 19.87, 21.56, 14.33, 28.91], // Type 2 answers  
            3: [17.45, 20.12, 23.78, 15.67, 30.22]  // Type 3 answers
        };

        let currentQuestionType = 1;
        let currentQuestionIndex = 0;

        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('userAnswer').value);
            const resultContainer = document.getElementById('resultContainer');
            const resultMessage = document.getElementById('resultMessage');
            const explanationMessage = document.getElementById('explanationMessage');
            
            if (isNaN(userAnswer) || userAnswer === '') {
                alert('Please enter a valid number');
                return;
            }
            
            const correctAnswer = correctAnswers[currentQuestionType][currentQuestionIndex];
            const tolerance = 0.5; // Allow 0.5% tolerance
            
            const isCorrect = Math.abs(userAnswer - correctAnswer) <= tolerance;
            
            resultContainer.style.display = 'block';
            
            if (isCorrect) {
                resultContainer.className = 'result-container result-correct';
                resultMessage.innerHTML = `
                    <strong>üéâ Correct!</strong> 
                    Your answer of ${userAnswer}% is correct!
                `;
                explanationMessage.innerHTML = `
                    <small>The correct IRR is ${correctAnswer}%. Great job!</small>
                `;
            } else {
                resultContainer.className = 'result-container result-incorrect';
                resultMessage.innerHTML = `
                    <strong>‚ùå Incorrect</strong> 
                    Your answer of ${userAnswer}% needs revision.
                `;
                explanationMessage.innerHTML = `
                    <small>
                        The correct IRR is ${correctAnswer}%. 
                        Hint: Double-check your cash flow entries and formula.
                    </small>
                `;
            }
        }

        function resetAnswer() {
            document.getElementById('userAnswer').value = '';
            document.getElementById('resultContainer').style.display = 'none';
        }

        // Update question type when buttons are clicked
        document.addEventListener('DOMContentLoaded', function() {
            const typeButtons = document.querySelectorAll('.type-btn');
            typeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    currentQuestionType = parseInt(this.dataset.type);
                    resetAnswer();
                });
            });

            // Handle next/previous buttons
            document.getElementById('nextBtn').addEventListener('click', function() {
                if (currentQuestionIndex < 4) {
                    currentQuestionIndex++;
                    resetAnswer();
                    updateQuestionDisplay();
                }
            });

            document.getElementById('prevBtn').addEventListener('click', function() {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    resetAnswer();
                    updateQuestionDisplay();
                }
            });
        });

        function updateQuestionDisplay() {
            document.getElementById('currentQuestion').textContent = 
                `Question ${currentQuestionIndex + 1} of 5`;
            
            // Enable/disable navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').disabled = currentQuestionIndex === 4;
        }
    </script>

    <!-- Your existing Luckysheet JS and other scripts -->
</body>
</html>
